import{j as s,L as C,r as m,u as h,N as g,P as u,a as j}from"./index-BjKfoqoD.js";import{C as _}from"./Cart-BExJTyYg.js";const N=({total:l,perPage:a,currentPage:e,onPageChange:t})=>{const i=[],o=Math.ceil(l/a);for(let n=1;n<=Math.ceil(l/a);n++)i.push(n);const c=()=>{e>1&&t(e-1)},d=()=>{e<o&&t(e+1)};return s.jsxs("div",{className:"pagination",children:[s.jsx("button",{className:`slider__button ${e===1?"swiper-button-disabled":""}`,onClick:c,disabled:e===1,children:"<"}),s.jsx("ul",{className:"pagination__list",children:i.map(n=>s.jsx("li",{className:`page-item ${e===n?"active":""}`,children:s.jsx(C,{"data-cy":"pageLink",to:`?page=${n}&perPage=${a}`,className:"page-link",onClick:()=>t(n),children:n})},n))}),s.jsx("button",{className:`slider__button ${e===o?"swiper-button-disabled":""}`,onClick:d,disabled:e===o,children:">"})]})};function f(l){const[a,e]=m.useState(1),[t,i]=m.useState(16),o=Math.ceil(l.length/t),c=(a-1)*t;return{currentItems:l.slice(c,c+t),currentPage:a,totalPages:o,pageSize:t,setPageSize:i,paginate:r=>{r>0&&r<=o&&e(r)}}}const v="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.59087%200.807088C7.83161%200.619846%208.16872%200.619846%208.40946%200.807088L14.4095%205.47375C14.5718%205.60006%2014.6668%205.79426%2014.6668%205.99999V13.3333C14.6668%2013.8638%2014.4561%2014.3725%2014.081%2014.7475C13.706%2015.1226%2013.1973%2015.3333%2012.6668%2015.3333H3.3335C2.80306%2015.3333%202.29436%2015.1226%201.91928%2014.7475C1.54421%2014.3725%201.3335%2013.8638%201.3335%2013.3333V5.99999C1.3335%205.79426%201.42848%205.60006%201.59087%205.47375L7.59087%200.807088ZM2.66683%206.32605V13.3333C2.66683%2013.5101%202.73707%2013.6797%202.86209%2013.8047C2.98712%2013.9298%203.15669%2014%203.3335%2014H12.6668C12.8436%2014%2013.0132%2013.9298%2013.1382%2013.8047C13.2633%2013.6797%2013.3335%2013.5101%2013.3335%2013.3333V6.32605L8.00016%202.1779L2.66683%206.32605Z'%20fill='%23313237'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.3335%208.00001C5.3335%207.63182%205.63197%207.33334%206.00016%207.33334H10.0002C10.3684%207.33334%2010.6668%207.63182%2010.6668%208.00001V14.6667C10.6668%2015.0349%2010.3684%2015.3333%2010.0002%2015.3333C9.63197%2015.3333%209.3335%2015.0349%209.3335%2014.6667V8.66668H6.66683V14.6667C6.66683%2015.0349%206.36835%2015.3333%206.00016%2015.3333C5.63197%2015.3333%205.3335%2015.0349%205.3335%2014.6667V8.00001Z'%20fill='%23313237'/%3e%3c/svg%3e",b=()=>{const l=h();let a="";const e=l.pathname.split("/").filter(t=>t!=="").map((t,i,o)=>(a+=`/${t}`,s.jsxs("div",{className:"crumb",children:[i===0&&s.jsxs(s.Fragment,{children:[s.jsx(g,{className:"crumb__link",to:"/",children:s.jsx("img",{className:"crumb__logo",src:v,alt:"Home"})}),s.jsx("span",{className:"crumb__separator",children:">"})]}),s.jsx(g,{to:a,className:"crumb__link",children:t}),i>0&&i<o.length-1&&s.jsx("span",{className:"crumb__separator",children:">"})]},t)));return s.jsx("div",{className:"breadcrumb",children:e})},k=()=>{const a=h().pathname.split("/").pop()||"",e=m.useContext(u);if(!e)throw new Error("PostsContext is not available");const{posts:t,loading:i}=e,o=t.filter(p=>p.category.toLowerCase()===a.toLowerCase()),{currentItems:c,currentPage:d,pageSize:n,paginate:r}=f(o),x=a.charAt(0).toUpperCase()+a.slice(1).toLowerCase();return i?s.jsx(j,{}):s.jsxs("section",{className:"category-page",children:[s.jsx(b,{}),s.jsxs("h1",{className:"category-page__title",children:[x," Page"]}),s.jsx("div",{className:"category-page__products",children:c.map(p=>s.jsx(_,{product:p},p.id))}),s.jsx(N,{total:(o==null?void 0:o.length)||0,perPage:n,currentPage:d,onPageChange:r})]})};export{k as C};

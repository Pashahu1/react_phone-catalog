import{j as e,L as u,r as g,u as x,N as m,P as j,a as _}from"./index-BN7vwC4w.js";import{C as f}from"./Cart-C_iCHzcd.js";const v=({total:l,perPage:a,currentPage:s,onPageChange:t})=>{const i=[],n=Math.ceil(l/a);for(let o=1;o<=Math.ceil(l/a);o++)i.push(o);const r=()=>{s>1&&t(s-1)},d=()=>{s<n&&t(s+1)};return e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:`slider__button ${s===1?"swiper-button-disabled":""}`,onClick:r,disabled:s===1,children:"<"}),e.jsx("ul",{className:"pagination__list",children:i.map(o=>e.jsx("li",{className:`page-item ${s===o?"active":""}`,children:e.jsx(u,{"data-cy":"pageLink",to:`?page=${o}&perPage=${a}`,className:"page-link",onClick:()=>t(o),children:o})},o))}),e.jsx("button",{className:`slider__button ${s===n?"swiper-button-disabled":""}`,onClick:d,disabled:s===n,children:">"})]})};function N(l){const[a,s]=g.useState(1),[t,i]=g.useState(16),n=Math.ceil(l.length/t),r=(a-1)*t;return{currentItems:l.slice(r,r+t),currentPage:a,totalPages:n,pageSize:t,setPageSize:i,paginate:c=>{c>0&&c<=n&&s(c)}}}const b="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.59087%200.807088C7.83161%200.619846%208.16872%200.619846%208.40946%200.807088L14.4095%205.47375C14.5718%205.60006%2014.6668%205.79426%2014.6668%205.99999V13.3333C14.6668%2013.8638%2014.4561%2014.3725%2014.081%2014.7475C13.706%2015.1226%2013.1973%2015.3333%2012.6668%2015.3333H3.3335C2.80306%2015.3333%202.29436%2015.1226%201.91928%2014.7475C1.54421%2014.3725%201.3335%2013.8638%201.3335%2013.3333V5.99999C1.3335%205.79426%201.42848%205.60006%201.59087%205.47375L7.59087%200.807088ZM2.66683%206.32605V13.3333C2.66683%2013.5101%202.73707%2013.6797%202.86209%2013.8047C2.98712%2013.9298%203.15669%2014%203.3335%2014H12.6668C12.8436%2014%2013.0132%2013.9298%2013.1382%2013.8047C13.2633%2013.6797%2013.3335%2013.5101%2013.3335%2013.3333V6.32605L8.00016%202.1779L2.66683%206.32605Z'%20fill='%23313237'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.3335%208.00001C5.3335%207.63182%205.63197%207.33334%206.00016%207.33334H10.0002C10.3684%207.33334%2010.6668%207.63182%2010.6668%208.00001V14.6667C10.6668%2015.0349%2010.3684%2015.3333%2010.0002%2015.3333C9.63197%2015.3333%209.3335%2015.0349%209.3335%2014.6667V8.66668H6.66683V14.6667C6.66683%2015.0349%206.36835%2015.3333%206.00016%2015.3333C5.63197%2015.3333%205.3335%2015.0349%205.3335%2014.6667V8.00001Z'%20fill='%23313237'/%3e%3c/svg%3e",w=()=>{const l=x();let a="";const s=l.pathname.split("/").filter(t=>t!=="").map((t,i,n)=>(a+=`/${t}`,e.jsxs("div",{className:"crumb",children:[i===0&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"crumb__link",to:"/",children:e.jsx("img",{className:"crumb__logo",src:b,alt:"Home"})}),e.jsx("span",{className:"crumb__separator",children:">"})]}),e.jsx(m,{to:a,className:"crumb__link",children:t}),i>0&&i<n.length-1&&e.jsx("span",{className:"crumb__separator",children:">"})]},t)));return e.jsx("div",{className:"breadcrumb",children:s})},k=()=>{const a=x().pathname.split("/").pop()||"",s=g.useContext(j);if(!s)throw new Error("PostsContext is not available");const{posts:t,error:i,loading:n}=s,r=t.filter(p=>p.category.toLowerCase()===a.toLowerCase()),{currentItems:d,currentPage:o,pageSize:c,paginate:C}=N(r),h=a.charAt(0).toUpperCase()+a.slice(1).toLowerCase();return n?e.jsx(_,{}):i?e.jsxs("div",{className:"category-page__error",children:[e.jsxs("p",{children:["Error: ",i]}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Retry"})]}):r.length===0?e.jsxs("div",{className:"category-page__empty",children:[e.jsxs("h1",{children:[h," Page"]}),e.jsxs("p",{children:["There are no ",h.toLowerCase()," available yet."]})]}):e.jsxs("section",{className:"category-page",children:[e.jsx(w,{}),e.jsxs("h1",{className:"category-page__title",children:[h," Page"]}),e.jsx("div",{className:"category-page__products",children:d.map(p=>e.jsx(f,{product:p},p.id))}),e.jsx(v,{total:r.length,perPage:c,currentPage:o,onPageChange:C})]})};export{k as C};
